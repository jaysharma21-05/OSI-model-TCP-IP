# Networking | DNS, ARP, DHCP, NAT (Simple Hinglish Notes)

Networking ke ye concepts kaafi important hain, especially DNS resolution, address translation aur network configuration ke liye. Neeche inko simple Hinglish mein breakdown kiya gaya hai.

---

## 1. Recursive vs Authoritative DNS

Recursive aur Authoritative DNS ka farak samajhne ke liye sabse best analogy hai **Library** ki.

### Recursive Resolver – "The Helpful Librarian"

Ye wo librarian hai jise tum jaakar bolte ho:
> "Bhaiya, mujhe 'Networking Basics' ki kitab chahiye."

- **Kaam**: Librarian khud jaakar alag-alag shelves check karta hai, doosre floor par jaata hai, aur mehnat karke kitab dhoondh kar tumhare haath mein deta hai.
- **Smart Work (Caching)**: 
  - Agar agla banda wahi kitab maange, toh librarian ko dobara dhoondhne ki zaroorat nahi padti.
  - Usne wo kitab apne paas counter par hi rakhi hoti hai (**Cache**).
- **Location / Example**: 
  - Ye aksar tumhara **ISP** (Airtel/Jio) ka resolver hota hai ya public resolver jaise **Google 8.8.8.8**.

### Authoritative Server – "The Original Book Shelf"

Ye library ka wo khaas **shelf/godown (warehouse)** hai jahan woh kitab asliyat mein rakhi gayi hai.

- **Kaam**: Iska kaam dhoondhna nahi hai.
  - Iska kaam hai **sahi jaankari store karna**.
  - Jab librarian (recursive) iske paas aata hai, toh ye sirf apne area/zone ki jaankari deta hai.
- **Malik (Owner)**: 
  - Agar tum `google.com` ke authoritative server se `facebook.com` ke baare mein poochoge, toh wo mana kar dega.
  - Ye sirf apne **zone** ka malik hai (e.g. sirf `google.com`).
- **Records**: 
  - Iske paas asli **A, AAAA, MX, CNAME** etc. records hote hain.

### DNS Query Flow – Ek Query Kaise Chalti Hai?

User: "`google.com` ka IP kya hai?" (Browser → Recursive Resolver).

1. **Recursive Resolver**: 
   - Pehle apna **cache** check karta hai. Agar nahi mila toh aage jaata hai.
2. **Root Server** – "The Chief Librarian" 
   - Root bolta hai: "`.com` ki jaankari TLD server ke paas hai, wahan jao."
3. **TLD (.com) Server** 
   - Bolta hai: "`google.com` ki asli file Authoritative server ke paas hai."
4. **Authoritative Server** 
   - Bolta hai: "Ye lo asli IP: 142.250.x.x!"
5. **Recursive Resolver** 
   - Ye IP browser ko deta hai aur **cache** mein store kar leta hai.

### Key Difference (Interview Point)

| Feature | Recursive Resolver (Client side) | Authoritative Server (Server side) |
|---------|-----------------------------------|-------------------------------------|
| Kaam | IP dhoondh kar user ko dena | Zone ka sahi data store karna |
| Cache | Haan, cache use karta hai | Nahi, hamesha fresh data deta hai |
| Example | Google DNS (8.8.8.8), ISP DNS | Domain ke nameservers (ns1.google.com) |
| Query | Multiple servers se poochta hai | Apne zone ka data directly deta hai |
| TTL | Cache ke liye TTL follow karta hai | TTL set karta hai records mein |

**Source:**
- https://www.nslookup.io/learning/recursive-vs-authoritative-dns/
- https://www.digicert.com/faq/dns/recursive-and-authoritative-dns-differences
- https://www.cloudflare.com/learning/dns/dns-server-types/
- https://www.dnsfilter.com/blog/authoritative-vs-recursive-dns
- https://umbrella.cisco.com/blog/what-is-the-difference-between-authoritative-and-recursive-dns-nameservers
- https://www.bigrock.in/blog/how-tos/learning-and-resources/recursive-and-authoritative-dns-differences

---

## 2. DHCP DORA Process

**DHCP** ka full form hai **Dynamic Host Configuration Protocol**. Ye tumhare device ko automatically IP address assign karta hai.

### DORA Process (4 Steps)

1. **D – Discover**: 
   - Device bolta hai: "Koi DHCP server hai kya? Mujhe IP chahiye!"
   - Ye message **broadcast** hota hai (255.255.255.255).

2. **O – Offer**: 
   - DHCP server bolta hai: "Haan main hoon! Ye IP le lo: 192.168.1.10"
   - Server IP address offer karta hai.

3. **R – Request**: 
   - Device bolta hai: "Theek hai, main ye IP accept karta hoon."
   - Request message bhejta hai server ko.

4. **A – Acknowledgement**: 
   - DHCP server bolta hai: "Pakka confirmed! Ye IP ab tumhara hai."
   - Server IP confirm kar deta hai aur additional settings bhi deta hai:
     - **Subnet Mask**
     - **Default Gateway**
     - **DNS Server**
     - **Lease Time** (kitne time tak IP valid rahega)

### Key Points

- DHCP server usually router hota hai home networks mein.
- IP address temporary hota hai (lease time ke baad renew karna padta hai).
- Static IP se better hai kyunki automatic hai aur conflicts avoid hote hain.

**Source:**
- https://www.geeksforgeeks.org/computer-networks/how-dora-works/
- https://www.geeksforgeeks.org/computer-networks/dynamic-host-configuration-protocol-dhcp/
- https://networklessons.com/ip-services/introduction-to-dhcp
- https://www.linkedin.com/posts/abdelrahman-alshora_dhcp-dora-networking-activity-7387086187112579072-kTBE

---

## 3. ARP (Address Resolution Protocol)

**ARP** ka kaam hai **IP address ko MAC address mein convert karna**.

### Kyu Zaroorat Hai?

- Network Layer (Layer 3) mein **IP address** use hota hai.
- Data Link Layer (Layer 2) mein **MAC address** use hota hai.
- Jab data send karna hai same network mein, toh device ko destination ka MAC address chahiye.

### ARP Process

1. **ARP Request** (Broadcast): 
   - Device bolta hai: "Kaun hai 192.168.1.10? Apna MAC address batao!"
   - Ye message **broadcast** hota hai pure network mein.

2. **ARP Reply** (Unicast): 
   - Target device bolta hai: "Main hoon! Mera MAC address hai: AA:BB:CC:DD:EE:FF"
   - Reply direct sender ko jaata hai.

3. **ARP Cache**: 
   - Device is MAC address ko cache mein store kar leta hai.
   - Agli baar same IP ke liye ARP request nahi bhejega.

### ARP Spoofing (Security Risk)

Hacker fake ARP replies bhej kar apne aap ko legitimate device bana sakta hai. Isse:
- Man-in-the-Middle (MITM) attacks ho sakte hain.
- Traffic hijack ho sakta hai.

**Prevention:**
- Static ARP entries use karo.
- ARP spoofing detection tools use karo.

**Source:**
- https://www.geeksforgeeks.org/ethical-hacking/what-is-arp-spoofing-attack/
- https://www.imperva.com/learn/application-security/arp-spoofing/
- https://www.sentinelone.com/cybersecurity-101/threat-intelligence/arp-spoofing/

---

## 4. NAT (Network Address Translation)

**NAT** ka kaam hai **private IP addresses ko public IP address mein convert karna** taaki multiple devices ek hi public IP use kar sakein.

### Types of NAT

#### 1. SNAT (Source NAT)
- **Kaam**: Source IP address ko change karta hai.
- **Use Case**: Jab internal network se internet access karna hai.
- **Example**: 
  - Private IP: 192.168.1.5 → Public IP: 203.0.113.10

#### 2. DNAT (Destination NAT)
- **Kaam**: Destination IP address ko change karta hai.
- **Use Case**: Jab internet se internal server (home/web-server) ko access karna hai.
- **Example**: 
  - Public IP: 203.0.113.10:80 → Private IP: 192.168.1.100:80

#### 3. PAT (Port Address Translation)
- **Kaam**: IP address + Port number ko change karta hai.
- **Use Case**: Jab multiple devices ek hi public IP par different ports use karein.
- **Example**: 
  - Device 1: 192.168.1.5:5000 → 203.0.113.10:5000
  - Device 2: 192.168.1.6:5001 → 203.0.113.10:5001

### NAT Table Example

| Type | Source IP | Destination IP | Kyu badalta hai? | Kab use hota hai? |
|------|-----------|----------------|------------------|-------------------|
| SNAT | Source IP | Bahar jaate waqt | Jab aap Google/Internet access karte ho |
| DNAT | Destination IP | Andar aate waqt | Jab koi bahar se aapke home/web-server ko access kare |
| PAT | IP + Port | Mostly bahar jaate waqt | Jab ek hi public IP par multiple devices chal rahe ho |

**Source:**
- https://www.thenetworkdna.com/2023/11/decoding-snat-and-dnat-unveiling.html
- https://www.alibabacloud.com/blog/snat-vs--dnat-and-some-tips-for-the-acpace-cloud-computing-exam_598920

---

## References / Further Study

- **Recursive vs Authoritative DNS:**
  - https://www.nslookup.io/learning/recursive-vs-authoritative-dns/
  - https://www.digicert.com/faq/dns/recursive-and-authoritative-dns-differences
  - https://www.cloudflare.com/learning/dns/dns-server-types/
  - https://dmarcreport.com/blog/authoritative-vs-recursive-dns-understanding-the-key-differences/
  - https://www.dnsfilter.com/blog/authoritative-vs-recursive-dns
  - https://www.bigrock.in/blog/products/domains/recursive-vs-iterative-dns

- **DHCP DORA:**
  - https://www.geeksforgeeks.org/computer-networks/how-dora-works/
  - https://www.geeksforgeeks.org/computer-networks/dynamic-host-configuration-protocol-dhcp/
  - https://networklessons.com/ip-services/introduction-to-dhcp
  - https://www.linkedin.com/posts/abdelrahman-alshora_dhcp-dora-networking-activity-7387086187112579072-kTBE

- **ARP & ARP Spoofing:**
  - https://www.geeksforgeeks.org/ethical-hacking/what-is-arp-spoofing-attack/
  - https://www.imperva.com/learn/application-security/arp-spoofing/
  - https://www.sentinelone.com/cybersecurity-101/threat-intelligence/arp-spoofing/

- **NAT / SNAT / DNAT / PAT:**
  - https://www.thenetworkdna.com/2023/11/decoding-snat-and-dnat-unveiling.html
  - https://www.alibabacloud.com/blog/snat-vs--dnat-and-some-tips-for-the-acpace-cloud-computing-exam_598920

- **Extra Videos:**
  - https://www.youtube.com/watch?v=kS42C3vqFco
  - https://www.youtube.com/watch?v=opbGLJrvupkY
